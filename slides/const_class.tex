
\subsection{const class}

\begin{frame}[fragile]{const member funktionen}

	\begin{block}{const als Absicherung}
		\lstinputlisting[basicstyle=\tiny]{cpp-code/const-safeguard.cpp}
	\end{block}
	
\end{frame}


\begin{frame}[fragile]{const member funktionen}

	\begin{block}{const als Ver√§nderungsschutz}
	\begin{small}
		\begin{lstlisting}[language=C++]
			void drucker(const MyClass& arg)
			{
			    std::cout << arg.getInt() << std::endl;
			    arg.setInt(99); // wird nicht kompiliert
			}
			void testfun(MyClass& arg)
			{
			    std::cout << arg.getInt() << std::endl;
			    arg.setInt(99);
			}
			void myfun()
			{
			    MyClass pObj;
			    pObj.setInt(42);
			    testfun(pObj);
			    drucker(pObj);
			}
		\end{lstlisting}
		\end{small}
	\end{block}
	
\end{frame}


\begin{frame}[fragile]{const overloading}

	\begin{block}{const overloading}
	\begin{small}
		\begin{lstlisting}[language=C++]
			class MyClass
			{
			private:
			    int * m_iBlub;
			public:
			    // sinnvoller overload
			    const int * get() const { return m_iBlub; }
			          int * get()       { return m_iBlub; }
			    
			    // rueckgabewert kann frei gewaehlt werden
			    // sinnhaftigkeit ist allerdings fragwuerdig
			    std::string seltsam()       { return "blubber"; }
			    double***   seltsam() const { return NULL; }
			};
		\end{lstlisting}
		\end{small}
	\end{block}

\end{frame}