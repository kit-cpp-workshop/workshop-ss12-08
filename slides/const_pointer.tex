\section{const}

\subsection{const pointer}

\begin{frame}[fragile]{const variablen}

	\begin{block}{const für Konstanten}
	\begin{lstlisting}[language=C++]
		const int answer = 42;
		answer = 99;           // wird nicht kompiliert
		int j = answer+5;      // ist erlaubt
	\end{lstlisting}
	\end{block}

\end{frame}


\begin{frame}[fragile]{const pointer}

	\begin{block}{const pointer}
	\begin{small}
	\begin{lstlisting}[language=C++]
		// Pointer zu einem konstanten MyClass Objekt
		const MyClass * blub;
		MyClass const * blub2;
		const MyClass const * blub3;

		// konstanter Pointer zu einem MyClass Objekt
		MyClass * const blub4;

		// konstanter Pointer zu einem konstanten MyClass Objekt
		MyClass const * const blub5; 
		const MyClass * const blub6; 
		const MyClass const * const blub7;
	\end{lstlisting}
	\end{small}
	\end{block}

\end{frame}


\begin{frame}[fragile]{const funktionsargumente}

	\begin{block}{const als Veränderungsschutz}
	\begin{small}
	\begin{lstlisting}[language=C++]
		void drucker(int arg)
		{
		    std::cout << arg << std::endl;
		}
		
		void testfun(int *arg)
		{
		    *arg = 42;
		}
		
		void myfun(const int *arg)
		{
		    *arg = 99;     // wird nicht kompiliert
		    testfun(arg);  // wird nicht kompiliert
		    drucker(*arg); // erlaubt
		}
	\end{lstlisting}
	\end{small}
	\end{block}

\end{frame}


\begin{frame}[fragile]{const Funktions-Parameter}

	\begin{block}{const als Absicherung}
		\begin{lstlisting}[language=C++]
			void druckeRechnung(const Rechnung& rech)
			{
			    std::cout << rech->menge << std::endl;
			    rech->menge++; // wird nicht kompiliert
			}
	
			void setzeRechnung(Rechnung& rech)
			{
			    rech->menge = 100;
			}
		\end{lstlisting}
	\end{block}


\end{frame}
